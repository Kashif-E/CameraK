{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"CameraK","text":"<p>Kotlin Multiplatform Camera SDK \u2013 Capture stunning photos and videos across all platforms.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>\ud83d\udcf1 Multiplatform Support \u2013 Android, iOS, Desktop, and JavaScript</li> <li>\ud83c\udfa5 Flexible Camera Control \u2013 Full control over camera settings and modes</li> <li>\ud83d\udcf8 High-Quality Capture \u2013 Support for various image formats and quality levels</li> <li>\ud83d\udd10 Permission Handling \u2013 Built-in permission management for all platforms</li> <li>\ud83c\udfa8 Jetpack Compose Integration \u2013 Seamless UI integration with Compose Multiplatform</li> <li>\ud83d\ude80 Performance Optimized \u2013 Efficient resource usage across platforms</li> <li>\ud83d\udcda Well Documented \u2013 Comprehensive documentation and examples</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>// Initialize camera controller\nval controller = CameraController.Builder()\n    .setVideoResolution(1920, 1080)\n    .build()\n\n// Start camera preview\ncontroller.startPreview()\n\n// Capture photo\nval photo = controller.capturePhoto()\n</code></pre>"},{"location":"#supported-platforms","title":"Supported Platforms","text":"Platform Status Features \ud83d\udd36 Android \u2705 Full Support CameraX API \ud83c\udf4e iOS \u2705 Full Support AVFoundation \ud83d\udda5\ufe0f Desktop \u2705 Full Support JavaCV \ud83c\udf10 JavaScript \u2705 Full Support Web Camera API"},{"location":"#installation","title":"Installation","text":"<p>Install CameraK using Gradle:</p> <pre><code>dependencies {\n    implementation(\"dev.kashif:cameraK:0.2.0\")\n}\n</code></pre>"},{"location":"#platform-specific-setup","title":"Platform-Specific Setup","text":""},{"location":"#android","title":"Android","text":"<pre><code>// Add to AndroidManifest.xml\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n</code></pre>"},{"location":"#ios","title":"iOS","text":"<pre><code>// Add to Info.plist\n&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n&lt;string&gt;We need camera access to capture photos&lt;/string&gt;\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started Guide</li> <li>API Reference</li> <li>Examples</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome contributions! See CONTRIBUTING.md for guidelines.</p>"},{"location":"#license","title":"License","text":"<p>CameraK is licensed under the MIT License. See LICENSE for details.</p>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udcd6 Documentation</li> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcac Discussions</li> </ul> <p>Built with \u2764\ufe0f for mobile and desktop developers</p>"},{"location":"contributing/","title":"Contributing","text":"<p>We welcome contributions to CameraK!</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository</li> <li>Clone your fork</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Submit a pull request</li> </ol>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow Kotlin conventions</li> <li>Use 4-space indentation</li> <li>Write descriptive commit messages</li> <li>Add tests for new features</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<ul> <li>Update docs for API changes</li> <li>Add examples for new features</li> <li>Keep README up to date</li> </ul>"},{"location":"contributing/#testing","title":"Testing","text":"<pre><code>./gradlew test\n</code></pre>"},{"location":"contributing/#building","title":"Building","text":"<pre><code>./gradlew build\n</code></pre>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<ul> <li>Provide minimal reproducible example</li> <li>Include device/OS details</li> <li>Attach error logs</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree code is licensed under MIT License.</p>"},{"location":"license/","title":"License","text":"<p>CameraK is licensed under the MIT License.</p>"},{"location":"license/#mit-license","title":"MIT License","text":"<p>Copyright (c) 2024 Kashif-E</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"license/#third-party-licenses","title":"Third-Party Licenses","text":"<p>CameraK depends on open-source libraries:</p> <ul> <li>Jetpack Compose \u2013 Apache 2.0</li> <li>CameraX \u2013 Apache 2.0</li> <li>Kotlin Coroutines \u2013 Apache 2.0</li> <li>Ktor Client \u2013 Apache 2.0</li> </ul> <p>For complete dependency list, see LICENSE file in repository.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#camera-not-initializing","title":"Camera Not Initializing","text":""},{"location":"troubleshooting/#issue-cameranotavailableexception","title":"Issue: <code>CameraNotAvailableException</code>","text":"<p>Cause: No camera device available</p> <p>Solutions: - Check device has camera hardware - Ensure no other app has exclusive camera access - Restart app - Restart device</p>"},{"location":"troubleshooting/#issue-permissiondeniedexception","title":"Issue: <code>PermissionDeniedException</code>","text":"<p>Cause: Camera permission not granted</p> <p>Solutions: - Check permission declarations in manifest - Request permission at runtime - Check app permissions in Settings</p>"},{"location":"troubleshooting/#preview-not-showing","title":"Preview Not Showing","text":""},{"location":"troubleshooting/#issue-black-screen-with-no-preview","title":"Issue: Black screen with no preview","text":"<p>Cause: Various factors</p> <p>Debug Steps: <pre><code>LaunchedEffect(Unit) {\n    try {\n        controller.startPreview()\n        Log.d(\"Camera\", \"Preview started successfully\")\n    } catch (e: Exception) {\n        Log.e(\"Camera\", \"Preview failed: ${e.message}\", e)\n    }\n}\n</code></pre></p> <p>Solutions: - Verify <code>CameraPreviewComposable</code> has proper size constraints - Check camera permissions - Ensure camera device is not in use by other app - Try switching between front/back camera</p>"},{"location":"troubleshooting/#photo-capture-fails","title":"Photo Capture Fails","text":""},{"location":"troubleshooting/#issue-storageexception","title":"Issue: <code>StorageException</code>","text":"<p>Cause: Insufficient storage or permission</p> <p>Solutions: - Check available storage space - Grant write permission - Clean up old captures - Use external storage explicitly</p>"},{"location":"troubleshooting/#issue-cameratimeoutexception","title":"Issue: <code>CameraTimeoutException</code>","text":"<p>Cause: Capture took too long</p> <p>Solutions: - Reduce photo resolution - Check device performance - Disable heavy effects - Retry operation</p>"},{"location":"troubleshooting/#video-recording-issues","title":"Video Recording Issues","text":""},{"location":"troubleshooting/#issue-audio-not-recorded","title":"Issue: Audio not recorded","text":"<p>Cause: Missing microphone permission</p> <p>Solutions: - Add <code>RECORD_AUDIO</code> to manifest - Request microphone permission - Check system audio settings</p>"},{"location":"troubleshooting/#issue-video-file-corrupted","title":"Issue: Video file corrupted","text":"<p>Cause: Recording interrupted</p> <p>Solutions: - Always call <code>stopVideoRecording()</code> when done - Check available storage - Use proper exception handling</p>"},{"location":"troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/#issue-app-freezes-during-capture","title":"Issue: App freezes during capture","text":"<p>Solutions: - Use coroutines: <code>viewModelScope.launch { capture() }</code> - Reduce photo resolution - Run on background thread - Profile with Android Studio Profiler</p>"},{"location":"troubleshooting/#issue-high-memory-usage","title":"Issue: High memory usage","text":"<p>Solutions: - Release photos after processing - Process in chunks for burst capture - Reduce resolution - Call <code>System.gc()</code> between captures</p>"},{"location":"troubleshooting/#platform-specific-issues","title":"Platform-Specific Issues","text":""},{"location":"troubleshooting/#android-camera-crashes-on-cold-start","title":"Android: Camera crashes on cold start","text":"<p>Solution: Add permission check: <pre><code>if (ContextCompat.checkSelfPermission(\n    context, \n    Manifest.permission.CAMERA\n) == PackageManager.PERMISSION_GRANTED) {\n    startPreview()\n}\n</code></pre></p>"},{"location":"troubleshooting/#ios-infoplist-keys-missing","title":"iOS: Info.plist keys missing","text":"<p>Solution: Verify in Info.plist: <pre><code>&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n&lt;string&gt;Description&lt;/string&gt;\n</code></pre></p>"},{"location":"troubleshooting/#desktop-webcam-not-detected","title":"Desktop: Webcam not detected","text":"<p>Solution: Check webcam is not in use by other app: <pre><code># macOS\nlsof | grep -i camera\n\n# Windows (PowerShell)\nGet-Process | Where-Object {$_.Modules -like \"*camera*\"}\n</code></pre></p>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":"<ol> <li> <p>Check Logs <pre><code>adb logcat | grep -i camera\n</code></pre></p> </li> <li> <p>Enable Debug Mode <pre><code>CameraController.Builder()\n    .enableDebugLogging(true)\n    .build()\n</code></pre></p> </li> <li> <p>Report Issues</p> </li> <li>GitHub: https://github.com/kashif-e/CameraK/issues</li> <li>Include device model, OS version, error stack trace</li> <li> <p>Minimal reproduction code</p> </li> <li> <p>Community</p> </li> <li>Discussions: https://github.com/kashif-e/CameraK/discussions</li> </ol>"},{"location":"api/camera-controller/","title":"CameraController","text":"<p>Core API for controlling camera operations.</p>"},{"location":"api/camera-controller/#interface-definition","title":"Interface Definition","text":"<pre><code>interface CameraController {\n    // Lifecycle\n    fun startPreview()\n    fun stopPreview()\n    fun release()\n\n    // Capture\n    suspend fun capturePhoto(): Photo\n    suspend fun capturePhotoWithEffect(effect: PhotoEffect): Photo\n    suspend fun captureBurst(count: Int, interval: Long): List&lt;Photo&gt;\n\n    // Video\n    fun startVideoRecording()\n    suspend fun stopVideoRecording(): Video\n\n    // Configuration\n    fun setCameraSelector(selector: CameraSelector)\n    fun setFlash(flash: CameraFlash)\n    fun setZoom(zoomRatio: Float)\n    fun setExposure(compensationValue: Float)\n    fun setWhiteBalance(whiteBalance: WhiteBalance)\n    fun setFocusMode(focusMode: FocusMode)\n\n    // Getters\n    fun getCurrentCameraSelector(): CameraSelector\n    fun getMinZoomRatio(): Float\n    fun getMaxZoomRatio(): Float\n    fun isTorchAvailable(): Boolean\n    fun isAutoFocusAvailable(): Boolean\n}\n</code></pre>"},{"location":"api/camera-controller/#methods","title":"Methods","text":""},{"location":"api/camera-controller/#startpreview","title":"startPreview()","text":"<p>Starts the camera preview stream.</p> <pre><code>fun startPreview()\n</code></pre> <p>Throws: - <code>PermissionDeniedException</code> \u2013 Camera permission not granted - <code>CameraNotAvailableException</code> \u2013 No camera device available - <code>CameraException</code> \u2013 General camera error</p> <p>Example: <pre><code>try {\n    controller.startPreview()\n} catch (e: PermissionDeniedException) {\n    println(\"Request camera permission\")\n}\n</code></pre></p>"},{"location":"api/camera-controller/#stoppreview","title":"stopPreview()","text":"<p>Stops the camera preview stream.</p> <pre><code>fun stopPreview()\n</code></pre> <p>Note: Call this when leaving the camera screen to free resources.</p>"},{"location":"api/camera-controller/#capturephoto","title":"capturePhoto()","text":"<p>Captures a single photo.</p> <pre><code>suspend fun capturePhoto(): Photo\n</code></pre> <p>Returns: - <code>Photo</code> object with uri, dimensions, metadata</p> <p>Throws: - <code>CameraTimeoutException</code> \u2013 Capture timed out - <code>StorageException</code> \u2013 No storage space available - <code>CameraException</code> \u2013 General error</p> <p>Example: <pre><code>viewModelScope.launch {\n    try {\n        val photo = controller.capturePhoto()\n        println(\"Photo saved: ${photo.uri}\")\n    } catch (e: StorageException) {\n        println(\"No storage space available\")\n    }\n}\n</code></pre></p>"},{"location":"api/camera-controller/#capturephotowitheffect","title":"capturePhotoWithEffect()","text":"<p>Captures a photo with an effect applied.</p> <pre><code>suspend fun capturePhotoWithEffect(effect: PhotoEffect): Photo\n</code></pre> <p>Parameters: - <code>effect</code> \u2013 <code>PhotoEffect.BEAUTY_FILTER</code>, <code>PhotoEffect.BLACK_AND_WHITE</code>, <code>PhotoEffect.HDR</code>, etc.</p> <p>Example: <pre><code>val beautifulPhoto = controller.capturePhotoWithEffect(\n    effect = PhotoEffect.BEAUTY_FILTER\n)\n</code></pre></p>"},{"location":"api/camera-controller/#captureburst","title":"captureBurst()","text":"<p>Captures multiple photos in rapid succession.</p> <pre><code>suspend fun captureBurst(count: Int, interval: Long): List&lt;Photo&gt;\n</code></pre> <p>Parameters: - <code>count</code> \u2013 Number of photos to capture (1-20) - <code>interval</code> \u2013 Time between captures in milliseconds</p> <p>Example: <pre><code>val photos = controller.captureBurst(\n    count = 10,\n    interval = 100\n)\n</code></pre></p>"},{"location":"api/camera-controller/#startvideorecording","title":"startVideoRecording()","text":"<p>Starts recording video.</p> <pre><code>fun startVideoRecording()\n</code></pre> <p>Throws: - <code>AudioPermissionException</code> \u2013 Microphone permission not granted (when audio enabled) - <code>StorageException</code> \u2013 Insufficient storage</p> <p>Example: <pre><code>try {\n    controller.startVideoRecording()\n} catch (e: StorageException) {\n    println(\"Insufficient storage for video\")\n}\n</code></pre></p>"},{"location":"api/camera-controller/#stopvideorecording","title":"stopVideoRecording()","text":"<p>Stops video recording and returns the file.</p> <pre><code>suspend fun stopVideoRecording(): Video\n</code></pre> <p>Returns: - <code>Video</code> object with uri, duration, codec, etc.</p> <p>Example: <pre><code>val video = controller.stopVideoRecording()\nprintln(\"Video duration: ${video.duration}ms\")\n</code></pre></p>"},{"location":"api/camera-controller/#setcameraselector","title":"setCameraSelector()","text":"<p>Switches between front and back cameras.</p> <pre><code>fun setCameraSelector(selector: CameraSelector)\n</code></pre> <p>Parameters: - <code>selector</code> \u2013 <code>CameraSelector.BACK</code> or <code>CameraSelector.FRONT</code></p> <p>Throws: - <code>CameraNotAvailableException</code> \u2013 Selected camera not available</p> <p>Example: <pre><code>// Switch to selfie camera\ncontroller.setCameraSelector(CameraSelector.FRONT)\n\n// Switch back to main camera\ncontroller.setCameraSelector(CameraSelector.BACK)\n</code></pre></p>"},{"location":"api/camera-controller/#setflash","title":"setFlash()","text":"<p>Controls flash mode.</p> <pre><code>fun setFlash(flash: CameraFlash)\n</code></pre> <p>Parameters: - <code>flash</code> \u2013 <code>CameraFlash.ON</code>, <code>CameraFlash.OFF</code>, or <code>CameraFlash.AUTO</code></p> <p>Example: <pre><code>controller.setFlash(CameraFlash.AUTO)\n</code></pre></p>"},{"location":"api/camera-controller/#setzoom","title":"setZoom()","text":"<p>Sets zoom level.</p> <pre><code>fun setZoom(zoomRatio: Float)\n</code></pre> <p>Parameters: - <code>zoomRatio</code> \u2013 Zoom multiplier (1.0 = no zoom, max = <code>getMaxZoomRatio()</code>)</p> <p>Throws: - <code>IllegalArgumentException</code> \u2013 Zoom ratio out of range</p> <p>Example: <pre><code>// 2x zoom\ncontroller.setZoom(2.0f)\n\n// Get supported range\nval minZoom = controller.getMinZoomRatio()\nval maxZoom = controller.getMaxZoomRatio()\ncontroller.setZoom(maxZoom / 2)  // Half max zoom\n</code></pre></p>"},{"location":"api/camera-controller/#setexposure","title":"setExposure()","text":"<p>Adjusts exposure compensation.</p> <pre><code>fun setExposure(compensationValue: Float)\n</code></pre> <p>Parameters: - <code>compensationValue</code> \u2013 Exposure compensation (-2.0 to +2.0)</p> <p>Example: <pre><code>controller.setExposure(-0.5f)  // Darker\ncontroller.setExposure(0.5f)   // Brighter\ncontroller.setExposure(0.0f)   // Normal\n</code></pre></p>"},{"location":"api/camera-controller/#setwhitebalance","title":"setWhiteBalance()","text":"<p>Sets white balance mode.</p> <pre><code>fun setWhiteBalance(whiteBalance: WhiteBalance)\n</code></pre> <p>Parameters: - <code>whiteBalance</code> \u2013 <code>WhiteBalance.AUTO</code>, <code>DAYLIGHT</code>, <code>CLOUDY</code>, <code>TUNGSTEN</code>, <code>FLUORESCENT</code></p> <p>Example: <pre><code>controller.setWhiteBalance(WhiteBalance.DAYLIGHT)\n</code></pre></p>"},{"location":"api/camera-controller/#setfocusmode","title":"setFocusMode()","text":"<p>Configures focus behavior.</p> <pre><code>fun setFocusMode(focusMode: FocusMode)\n</code></pre> <p>Parameters: - <code>focusMode</code> \u2013 <code>FocusMode.AUTO</code>, <code>MANUAL</code>, or <code>CONTINUOUS</code></p> <p>Example: <pre><code>// Continuous autofocus (video mode)\ncontroller.setFocusMode(FocusMode.CONTINUOUS)\n\n// Manual focus control\ncontroller.setFocusMode(FocusMode.MANUAL)\ncontroller.setFocusDistance(0.5f)\n</code></pre></p>"},{"location":"api/camera-controller/#getters","title":"Getters","text":""},{"location":"api/camera-controller/#getminzoomratio","title":"getMinZoomRatio()","text":"<pre><code>fun getMinZoomRatio(): Float\n</code></pre> <p>Returns minimum supported zoom (typically 1.0).</p>"},{"location":"api/camera-controller/#getmaxzoomratio","title":"getMaxZoomRatio()","text":"<pre><code>fun getMaxZoomRatio(): Float\n</code></pre> <p>Returns maximum supported zoom (typically 2.0-10.0 depending on device).</p>"},{"location":"api/camera-controller/#istorchavailable","title":"isTorchAvailable()","text":"<pre><code>fun isTorchAvailable(): Boolean\n</code></pre> <p>Checks if flashlight/torch is available.</p>"},{"location":"api/camera-controller/#isautofocusavailable","title":"isAutoFocusAvailable()","text":"<pre><code>fun isAutoFocusAvailable(): Boolean\n</code></pre> <p>Checks if autofocus is supported.</p>"},{"location":"api/camera-controller/#builder-pattern","title":"Builder Pattern","text":""},{"location":"api/camera-controller/#cameracontrollerbuilder","title":"CameraController.Builder","text":"<pre><code>val controller = CameraController.Builder()\n    .setCameraSelector(CameraSelector.BACK)\n    .setPhotoResolution(3840, 2160)\n    .setVideoResolution(1920, 1080)\n    .setFlash(CameraFlash.AUTO)\n    .setFocusMode(FocusMode.CONTINUOUS)\n    .build()\n</code></pre> <p>See Configuration Guide for all builder options.</p>"},{"location":"api/camera-controller/#exception-hierarchy","title":"Exception Hierarchy","text":"<pre><code>CameraException\n\u251c\u2500\u2500 PermissionDeniedException\n\u251c\u2500\u2500 CameraNotAvailableException\n\u251c\u2500\u2500 CameraTimeoutException\n\u251c\u2500\u2500 StorageException\n\u251c\u2500\u2500 AudioPermissionException\n\u2514\u2500\u2500 GeneralCameraException\n</code></pre>"},{"location":"api/camera-controller/#usage-examples","title":"Usage Examples","text":""},{"location":"api/camera-controller/#complete-camera-app","title":"Complete Camera App","text":"<pre><code>@Composable\nfun SimpleCameraApp(viewModel: CameraViewModel) {\n    val state by viewModel.uiState.collectAsStateWithLifecycle()\n    val cameraState = rememberCameraKState()\n\n    Column(modifier = Modifier.fillMaxSize()) {\n        // Camera Preview\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .weight(1f)\n                .fillMaxWidth()\n        )\n\n        // Controls\n        Row(\n            modifier = Modifier\n                .fillMaxWidth()\n                .padding(16.dp),\n            horizontalArrangement = Arrangement.SpaceEvenly\n        ) {\n            // Switch Camera\n            IconButton(onClick = {\n                val selector = if (state.isFrontCamera) {\n                    CameraSelector.BACK\n                } else {\n                    CameraSelector.FRONT\n                }\n                cameraState.controller.setCameraSelector(selector)\n                viewModel.toggleCamera()\n            }) {\n                Icon(Icons.Default.Flip, contentDescription = \"Switch Camera\")\n            }\n\n            // Capture Button\n            IconButton(onClick = {\n                viewModel.capturePhoto(cameraState.controller)\n            }) {\n                Icon(Icons.Default.PhotoCamera, contentDescription = \"Capture\")\n            }\n\n            // Flash Control\n            IconButton(onClick = {\n                viewModel.toggleFlash(cameraState.controller)\n            }) {\n                Icon(Icons.Default.Flashlight, contentDescription = \"Flash\")\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"api/camera-controller/#best-practices","title":"Best Practices","text":"<ol> <li>\u2705 Check permissions before starting preview</li> <li>\u2705 Call <code>stopPreview()</code> when leaving camera screen</li> <li>\u2705 Wrap suspend functions in try-catch</li> <li>\u2705 Test zoom levels before using <code>setZoom()</code></li> <li>\u2705 Use <code>isTorchAvailable()</code> before enabling flash</li> </ol>"},{"location":"api/camera-controller/#platform-specific-notes","title":"Platform-Specific Notes","text":"<ul> <li>Android: Uses CameraX 1.5+</li> <li>iOS: Uses AVFoundation</li> <li>Desktop: Uses OpenCV/JavaCV</li> </ul>"},{"location":"api/camera-controller/#see-also","title":"See Also","text":"<ul> <li>Getting Started</li> <li>Configuration</li> <li>Camera Capture Guide</li> </ul>"},{"location":"api/camera-plugin/","title":"CameraPlugin","text":"<p>Plugin system for extending CameraK functionality.</p>"},{"location":"api/camera-plugin/#plugin-interface","title":"Plugin Interface","text":"<pre><code>interface CameraPlugin {\n    fun onCameraInitialized(controller: CameraController)\n    fun onPhotoCapture(photo: Photo)\n    fun onVideoCapture(video: Video)\n    fun onError(exception: CameraException)\n    fun onCleanup()\n}\n</code></pre>"},{"location":"api/camera-plugin/#creating-custom-plugins","title":"Creating Custom Plugins","text":"<pre><code>class AnalyticsPlugin : CameraPlugin {\n    override fun onCameraInitialized(controller: CameraController) {\n        println(\"Camera initialized - logging to analytics\")\n    }\n\n    override fun onPhotoCapture(photo: Photo) {\n        // Send analytics event\n        Analytics.logEvent(\"photo_captured\", bundleOf(\n            \"size\" to photo.size,\n            \"resolution\" to \"${photo.width}x${photo.height}\"\n        ))\n    }\n\n    override fun onVideoCapture(video: Video) {\n        Analytics.logEvent(\"video_captured\")\n    }\n\n    override fun onError(exception: CameraException) {\n        Analytics.logError(exception)\n    }\n\n    override fun onCleanup() {}\n}\n</code></pre>"},{"location":"api/camera-plugin/#registering-plugins","title":"Registering Plugins","text":"<pre><code>val controller = CameraController.Builder()\n    .addPlugin(AnalyticsPlugin())\n    .addPlugin(StoragePlugin())\n    .build()\n</code></pre>"},{"location":"api/camera-plugin/#see-also","title":"See Also","text":"<ul> <li>CameraController</li> <li>Core Concepts</li> </ul>"},{"location":"api/models/","title":"Data Models","text":"<p>Core data classes used by CameraK.</p>"},{"location":"api/models/#photo","title":"Photo","text":"<pre><code>data class Photo(\n    val uri: Uri,\n    val width: Int,\n    val height: Int,\n    val rotation: Int,\n    val timestamp: Long,\n    val flash: CameraFlash,\n    val exposure: Float,\n    val zoom: Float\n)\n</code></pre>"},{"location":"api/models/#video","title":"Video","text":"<pre><code>data class Video(\n    val uri: Uri,\n    val duration: Long,\n    val width: Int,\n    val height: Int,\n    val fps: Int,\n    val bitrate: Int,\n    val size: Long,\n    val codec: VideoCodec,\n    val timestamp: Long\n)\n</code></pre>"},{"location":"api/models/#cameraselector","title":"CameraSelector","text":"<pre><code>enum class CameraSelector {\n    BACK,\n    FRONT\n}\n</code></pre>"},{"location":"api/models/#cameraflash","title":"CameraFlash","text":"<pre><code>enum class CameraFlash {\n    ON, OFF, AUTO\n}\n</code></pre>"},{"location":"api/models/#imageformat","title":"ImageFormat","text":"<pre><code>enum class ImageFormat {\n    JPEG, PNG, WEBP, RAW\n}\n</code></pre>"},{"location":"api/models/#whitebalance","title":"WhiteBalance","text":"<pre><code>enum class WhiteBalance {\n    AUTO,\n    DAYLIGHT,\n    CLOUDY,\n    TUNGSTEN,\n    FLUORESCENT\n}\n</code></pre>"},{"location":"api/models/#focusmode","title":"FocusMode","text":"<pre><code>enum class FocusMode {\n    AUTO,\n    MANUAL,\n    CONTINUOUS\n}\n</code></pre>"},{"location":"api/models/#exceptions","title":"Exceptions","text":"<pre><code>open class CameraException(message: String) : Exception(message)\n\nclass PermissionDeniedException(message: String) : CameraException(message)\nclass CameraNotAvailableException(message: String) : CameraException(message)\nclass CameraTimeoutException(message: String) : CameraException(message)\nclass StorageException(message: String) : CameraException(message)\n</code></pre>"},{"location":"examples/android/","title":"Android Examples","text":""},{"location":"examples/android/#basic-camera-app","title":"Basic Camera App","text":"<pre><code>@Composable\nfun AndroidCameraScreen() {\n    val cameraState = rememberCameraKState()\n    var capturedImage by remember { mutableStateOf&lt;Uri?&gt;(null) }\n\n    Column(Modifier.fillMaxSize()) {\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .weight(1f)\n                .fillMaxWidth()\n        )\n\n        Button(\n            onClick = {\n                viewModelScope.launch {\n                    capturedImage = cameraState.controller.capturePhoto().uri\n                }\n            },\n            modifier = Modifier.align(Alignment.CenterHorizontally)\n        ) {\n            Text(\"Capture\")\n        }\n    }\n}\n</code></pre>"},{"location":"examples/android/#with-permissions","title":"With Permissions","text":"<pre><code>@Composable\nfun CameraWithPermissions() {\n    val permissionState = rememberPermissionState(\n        android.Manifest.permission.CAMERA\n    )\n\n    when {\n        permissionState.status.isGranted -&gt; {\n            AndroidCameraScreen()\n        }\n        else -&gt; {\n            LaunchedEffect(Unit) {\n                permissionState.launchPermissionRequest()\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"examples/android/#video-recording","title":"Video Recording","text":"<pre><code>@Composable\nfun VideoRecorderScreen() {\n    val cameraState = rememberCameraKState()\n    var isRecording by remember { mutableStateOf(false) }\n\n    Column(Modifier.fillMaxSize()) {\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier.weight(1f)\n        )\n\n        Button(\n            onClick = {\n                if (!isRecording) {\n                    cameraState.controller.startVideoRecording()\n                    isRecording = true\n                } else {\n                    viewModelScope.launch {\n                        cameraState.controller.stopVideoRecording()\n                        isRecording = false\n                    }\n                }\n            }\n        ) {\n            Text(if (isRecording) \"Stop Recording\" else \"Start Recording\")\n        }\n    }\n}\n</code></pre>"},{"location":"examples/desktop/","title":"Desktop Examples","text":""},{"location":"examples/desktop/#desktop-camera-app","title":"Desktop Camera App","text":"<pre><code>@Composable\nfun DesktopCameraScreen() {\n    val cameraState = rememberCameraKState()\n    var capturedImage by remember { mutableStateOf&lt;Uri?&gt;(null) }\n\n    Column(Modifier.fillMaxSize().padding(16.dp)) {\n        Text(\n            \"Desktop Camera\",\n            style = MaterialTheme.typography.headlineMedium\n        )\n\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .fillMaxWidth()\n                .height(400.dp)\n        )\n\n        Row(\n            modifier = Modifier\n                .fillMaxWidth()\n                .padding(top = 16.dp),\n            horizontalArrangement = Arrangement.Center\n        ) {\n            Button(onClick = {\n                viewModelScope.launch {\n                    capturedImage = cameraState.controller.capturePhoto().uri\n                }\n            }) {\n                Text(\"Capture Photo\")\n            }\n        }\n\n        if (capturedImage != null) {\n            Text(\"Saved: $capturedImage\")\n        }\n    }\n}\n</code></pre>"},{"location":"examples/desktop/#multiple-camera-selection","title":"Multiple Camera Selection","text":"<pre><code>@Composable\nfun MultiCameraDesktop() {\n    var selectedCamera by remember { mutableStateOf(0) }\n    val cameraState = rememberCameraKState()\n\n    Column {\n        // Camera selector\n        Dropdown(\n            items = (0..3).map { \"Camera $it\" },\n            onSelect = { cameraState.controller.setCameraIndex(it) }\n        )\n\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier.fillMaxSize()\n        )\n    }\n}\n</code></pre>"},{"location":"examples/desktop/#with-controls","title":"With Controls","text":"<pre><code>@Composable\nfun DesktopCameraWithControls() {\n    val cameraState = rememberCameraKState()\n    var zoom by remember { mutableStateOf(1.0f) }\n\n    Column(Modifier.fillMaxSize().padding(16.dp)) {\n        // Zoom Control\n        Slider(\n            value = zoom,\n            onValueChange = { \n                zoom = it\n                cameraState.controller.setZoom(it)\n            },\n            valueRange = 1.0f..3.0f,\n            modifier = Modifier.fillMaxWidth()\n        )\n\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .weight(1f)\n                .fillMaxWidth()\n        )\n\n        Button(\n            onClick = {\n                viewModelScope.launch {\n                    cameraState.controller.capturePhoto()\n                }\n            },\n            modifier = Modifier.align(Alignment.CenterHorizontally)\n        ) {\n            Text(\"\ud83d\udcf8 Capture\")\n        }\n    }\n}\n</code></pre>"},{"location":"examples/ios/","title":"iOS Examples","text":""},{"location":"examples/ios/#basic-camera-app-ios","title":"Basic Camera App (iOS)","text":"<pre><code>@Composable\nfun IOSCameraScreen() {\n    val cameraState = rememberCameraKState()\n    var capturedImage by remember { mutableStateOf&lt;Uri?&gt;(null) }\n\n    Column(Modifier.fillMaxSize()) {\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .weight(1f)\n                .fillMaxWidth()\n        )\n\n        Button(\n            onClick = {\n                viewModelScope.launch {\n                    capturedImage = cameraState.controller.capturePhoto().uri\n                }\n            }\n        ) {\n            Text(\"\ud83d\udcf8 Capture\")\n        }\n    }\n}\n</code></pre>"},{"location":"examples/ios/#infoplist-configuration","title":"Info.plist Configuration","text":"<p>Add to your iOS app's Info.plist:</p> <pre><code>&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n&lt;string&gt;We need camera access to capture photos&lt;/string&gt;\n&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;\n&lt;string&gt;We need microphone access for videos&lt;/string&gt;\n</code></pre>"},{"location":"examples/ios/#video-recording","title":"Video Recording","text":"<pre><code>@Composable\nfun IOSVideoRecorder() {\n    val cameraState = rememberCameraKState()\n    var isRecording by remember { mutableStateOf(false) }\n\n    Column(Modifier.fillMaxSize()) {\n        CameraPreviewComposable(cameraState.controller)\n\n        Button(\n            onClick = {\n                if (!isRecording) {\n                    cameraState.controller.startVideoRecording()\n                    isRecording = true\n                } else {\n                    viewModelScope.launch {\n                        cameraState.controller.stopVideoRecording()\n                        isRecording = false\n                    }\n                }\n            }\n        ) {\n            Text(if (isRecording) \"\ud83d\uded1 Stop\" else \"\ud83c\udfa5 Record\")\n        }\n    }\n}\n</code></pre>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Configure CameraK to suit your application's needs.</p>"},{"location":"getting-started/configuration/#builder-pattern","title":"Builder Pattern","text":"<p>CameraK uses the Builder pattern for flexible configuration:</p> <pre><code>val controller = CameraController.Builder()\n    .setCameraSelector(CameraSelector.BACK)\n    .setVideoResolution(1920, 1080)\n    .setPhotoResolution(4000, 3000)\n    .setFlash(CameraFlash.AUTO)\n    .setSceneMode(SceneMode.AUTO)\n    .build()\n</code></pre>"},{"location":"getting-started/configuration/#configuration-options","title":"Configuration Options","text":""},{"location":"getting-started/configuration/#camera-selection","title":"Camera Selection","text":"<pre><code>// Select camera\nbuilder.setCameraSelector(CameraSelector.BACK)  // Back/main camera\nbuilder.setCameraSelector(CameraSelector.FRONT) // Front/selfie camera\n</code></pre>"},{"location":"getting-started/configuration/#resolution","title":"Resolution","text":"<pre><code>// Photo resolution (default: device max)\nbuilder.setPhotoResolution(width = 3840, height = 2160)\n\n// Video resolution (default: 1920x1080)\nbuilder.setVideoResolution(width = 1920, height = 1080)\n\n// Aspect ratio (Android)\nbuilder.setAspectRatio(AspectRatio.RATIO_16_9)\n</code></pre>"},{"location":"getting-started/configuration/#flash-control","title":"Flash Control","text":"<pre><code>builder.setFlash(CameraFlash.ON)      // Always on\nbuilder.setFlash(CameraFlash.OFF)     // Always off\nbuilder.setFlash(CameraFlash.AUTO)    // Auto detect\n</code></pre>"},{"location":"getting-started/configuration/#focus-mode","title":"Focus Mode","text":"<pre><code>builder.setFocusMode(FocusMode.AUTO)     // Automatic focus\nbuilder.setFocusMode(FocusMode.MANUAL)   // Manual focus control\nbuilder.setFocusMode(FocusMode.CONTINUOUS) // Continuous autofocus\n</code></pre>"},{"location":"getting-started/configuration/#scene-modes","title":"Scene Modes","text":"<pre><code>builder.setSceneMode(SceneMode.AUTO)       // Automatic\nbuilder.setSceneMode(SceneMode.PORTRAIT)   // Portrait mode\nbuilder.setSceneMode(SceneMode.LANDSCAPE)  // Landscape mode\nbuilder.setSceneMode(SceneMode.NIGHT)      // Night mode\nbuilder.setSceneMode(SceneMode.ACTION)     // Action/sports\nbuilder.setSceneMode(SceneMode.DOCUMENT)   // Document scanning\n</code></pre>"},{"location":"getting-started/configuration/#image-format","title":"Image Format","text":"<pre><code>// JPEG compression quality (0-100)\nbuilder.setJpegQuality(quality = 95)\n\n// Output format\nbuilder.setImageFormat(ImageFormat.JPEG)\nbuilder.setImageFormat(ImageFormat.PNG)\n</code></pre>"},{"location":"getting-started/configuration/#exposure-white-balance","title":"Exposure &amp; White Balance","text":"<pre><code>// Exposure compensation (-2.0 to +2.0)\nbuilder.setExposureCompensation(compensationValue = 0.5f)\n\n// White balance mode\nbuilder.setWhiteBalance(WhiteBalance.AUTO)\nbuilder.setWhiteBalance(WhiteBalance.DAYLIGHT)\nbuilder.setWhiteBalance(WhiteBalance.CLOUDY)\nbuilder.setWhiteBalance(WhiteBalance.TUNGSTEN)\nbuilder.setWhiteBalance(WhiteBalance.FLUORESCENT)\n</code></pre>"},{"location":"getting-started/configuration/#zoom","title":"Zoom","text":"<pre><code>// Set zoom level (1.0 = no zoom)\nbuilder.setZoom(zoomRatio = 2.0f)\n\n// Get available zoom range\nval minZoom = controller.getMinZoomRatio()\nval maxZoom = controller.getMaxZoomRatio()\n</code></pre>"},{"location":"getting-started/configuration/#preview-settings","title":"Preview Settings","text":"<pre><code>// Enable/disable preview scaling\nbuilder.setScalePreview(scaleType = ScaleType.CENTER_CROP)\n</code></pre>"},{"location":"getting-started/configuration/#platform-specific-configuration","title":"Platform-Specific Configuration","text":""},{"location":"getting-started/configuration/#android-camerax","title":"Android (CameraX)","text":"<pre><code>// Additional Android-specific options\nbuilder.setUseCasesCombination(useCases = listOf(UseCase.PREVIEW, UseCase.CAPTURE))\nbuilder.setExtensionsMode(ExtensionsMode.AUTOMATIC)\n</code></pre>"},{"location":"getting-started/configuration/#ios-avfoundation","title":"iOS (AVFoundation)","text":"<pre><code>// iOS-specific session configuration\nbuilder.setSessionPreset(SessionPreset.HIGH)\nbuilder.setVideoStabilization(enabled = true)\n</code></pre>"},{"location":"getting-started/configuration/#desktop-javacv","title":"Desktop (JavaCV)","text":"<pre><code>// Desktop-specific camera index\nbuilder.setCameraIndex(cameraIndex = 0)\nbuilder.setBackendType(BackendType.OPENCV)\n</code></pre>"},{"location":"getting-started/configuration/#runtime-configuration","title":"Runtime Configuration","text":"<p>Change settings at runtime:</p> <pre><code>// After initialization\ncontroller.setFlash(CameraFlash.ON)\ncontroller.setZoom(zoomRatio = 3.0f)\ncontroller.setExposure(compensationValue = 1.0f)\ncontroller.setWhiteBalance(WhiteBalance.DAYLIGHT)\n</code></pre>"},{"location":"getting-started/configuration/#configuration-with-compose-state","title":"Configuration with Compose State","text":"<pre><code>@Composable\nfun ConfigurableCamera() {\n    var flash by remember { mutableStateOf(CameraFlash.AUTO) }\n    var zoom by remember { mutableStateOf(1.0f) }\n\n    val controller = CameraController.Builder()\n        .setFlash(flash)\n        .setZoom(zoom)\n        .build()\n\n    Column {\n        // Flash selector\n        Dropdown(\n            items = listOf(CameraFlash.ON, CameraFlash.OFF, CameraFlash.AUTO),\n            onSelect = { flash = it }\n        )\n\n        // Zoom slider\n        Slider(\n            value = zoom,\n            onValueChange = { zoom = it },\n            valueRange = 1.0f..3.0f\n        )\n    }\n}\n</code></pre>"},{"location":"getting-started/configuration/#performance-optimization","title":"Performance Optimization","text":"<pre><code>// For optimal performance:\nbuilder.setVideoResolution(1920, 1080)     // Balanced quality\nbuilder.setPhotoResolution(2048, 1536)     // Reasonable photo quality\nbuilder.setJpegQuality(85)                 // Compress to reduce file size\n</code></pre>"},{"location":"getting-started/configuration/#best-practices","title":"Best Practices","text":"<ol> <li>Reuse CameraController \u2013 Create once, use throughout app lifecycle</li> <li>Set Permissions Early \u2013 Request permissions before initialization</li> <li>Handle Errors \u2013 Wrap initialization in try-catch</li> <li>Test on Device \u2013 Simulator may not support all features</li> <li>Monitor Performance \u2013 Check memory usage with high resolutions</li> </ol>"},{"location":"getting-started/configuration/#complete-configuration-example","title":"Complete Configuration Example","text":"<pre><code>val controller = CameraController.Builder()\n    // Camera selection\n    .setCameraSelector(CameraSelector.BACK)\n\n    // Resolution\n    .setPhotoResolution(3840, 2160)\n    .setVideoResolution(1920, 1080)\n\n    // Image quality\n    .setJpegQuality(quality = 90)\n\n    // Controls\n    .setFlash(CameraFlash.AUTO)\n    .setFocusMode(FocusMode.CONTINUOUS)\n    .setSceneMode(SceneMode.AUTO)\n\n    // Exposure\n    .setExposureCompensation(compensationValue = 0.0f)\n    .setWhiteBalance(WhiteBalance.AUTO)\n\n    // Zoom\n    .setZoom(zoomRatio = 1.0f)\n\n    .build()\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Core Concepts</li> <li>API Reference</li> <li>Advanced Usage</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Kotlin 1.9+</li> <li>Gradle 8.0+</li> <li>Android 8.0+ (for Android platform)</li> <li>iOS 14+ (for iOS platform)</li> <li>Java 11+ (for Desktop platform)</li> </ul>"},{"location":"getting-started/installation/#adding-camerak-to-your-project","title":"Adding CameraK to Your Project","text":""},{"location":"getting-started/installation/#step-1-add-repository","title":"Step 1: Add Repository","text":"<p>Add the CameraK repository to your <code>build.gradle.kts</code>:</p> <pre><code>repositories {\n    mavenCentral()\n}\n</code></pre>"},{"location":"getting-started/installation/#step-2-add-dependency","title":"Step 2: Add Dependency","text":"<p>Add CameraK to your module's <code>build.gradle.kts</code>:</p> <p>=== \"Multiplatform\"     <pre><code>kotlin {\n    sourceSets {\n        commonMain.dependencies {\n            implementation(\"dev.kashif:cameraK:0.2.0\")\n        }\n    }\n}\n</code></pre></p> <p>=== \"Android Only\"     <pre><code>dependencies {\n    implementation(\"dev.kashif:cameraK:0.2.0\")\n}\n</code></pre></p> <p>=== \"iOS Only\"     <pre><code>kotlin {\n    iosMain.dependencies {\n        implementation(\"dev.kashif:cameraK:0.2.0\")\n    }\n}\n</code></pre></p>"},{"location":"getting-started/installation/#platform-configuration","title":"Platform Configuration","text":""},{"location":"getting-started/installation/#android","title":"Android","text":"<p>Add the following to your <code>AndroidManifest.xml</code>:</p> <pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>"},{"location":"getting-started/installation/#ios","title":"iOS","text":"<p>Add to your <code>Info.plist</code>:</p> <pre><code>&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n&lt;string&gt;We need camera access to capture photos and videos&lt;/string&gt;\n&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;\n&lt;string&gt;We need microphone access for video recording&lt;/string&gt;\n&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n&lt;string&gt;We need access to your photo library&lt;/string&gt;\n</code></pre>"},{"location":"getting-started/installation/#desktop","title":"Desktop","text":"<p>No additional configuration required. CameraK uses JavaCV for desktop support.</p>"},{"location":"getting-started/installation/#verification","title":"Verification","text":"<p>To verify the installation, create a simple test:</p> <pre><code>fun main() {\n    try {\n        val controller = CameraController.Builder()\n            .build()\n        println(\"\u2705 CameraK initialized successfully!\")\n    } catch (e: Exception) {\n        println(\"\u274c Failed to initialize: ${e.message}\")\n    }\n}\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#dependencies-not-found","title":"Dependencies Not Found","text":"<ul> <li>Clear Gradle cache: <code>rm -rf ~/.gradle/caches</code></li> <li>Run: <code>./gradlew clean build</code></li> </ul>"},{"location":"getting-started/installation/#build-fails-on-ios","title":"Build Fails on iOS","text":"<ul> <li>Ensure CocoaPods is updated: <code>pod repo update</code></li> <li>Clean Xcode build: <code>xcodebuild clean -scheme CameraK</code></li> </ul>"},{"location":"getting-started/installation/#runtime-issues","title":"Runtime Issues","text":"<ul> <li>Check Troubleshooting Guide</li> <li>Review platform-specific setup</li> <li>Enable debug logging in configuration</li> </ul>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide</li> <li>Configuration</li> <li>Examples</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get up and running with CameraK in 5 minutes.</p>"},{"location":"getting-started/quick-start/#basic-setup","title":"Basic Setup","text":""},{"location":"getting-started/quick-start/#1-initialize-cameracontroller","title":"1. Initialize CameraController","text":"<pre><code>import dev.kashif.camerak.CameraController\nimport dev.kashif.camerak.state.rememberCameraKState\n\n@Composable\nfun CameraScreen() {\n    // Initialize camera state\n    val cameraState = rememberCameraKState()\n\n    // Create camera controller\n    val controller = CameraController.Builder()\n        .setCameraSelector(CameraSelector.BACK)\n        .setVideoResolution(1920, 1080)\n        .build()\n\n    LaunchedEffect(Unit) {\n        controller.startPreview()\n    }\n}\n</code></pre>"},{"location":"getting-started/quick-start/#2-display-camera-preview","title":"2. Display Camera Preview","text":"<pre><code>@Composable\nfun CameraPreview(controller: CameraController) {\n    CameraPreviewComposable(\n        controller = controller,\n        modifier = Modifier\n            .fillMaxSize()\n            .clip(RoundedCornerShape(16.dp))\n    )\n}\n</code></pre>"},{"location":"getting-started/quick-start/#3-capture-photo","title":"3. Capture Photo","text":"<pre><code>@Composable\nfun CaptureButton(controller: CameraController) {\n    Button(\n        onClick = {\n            viewModelScope.launch {\n                try {\n                    val photo = controller.capturePhoto()\n                    // Handle captured photo\n                    println(\"Photo saved: ${photo.uri}\")\n                } catch (e: Exception) {\n                    println(\"Capture failed: ${e.message}\")\n                }\n            }\n        }\n    ) {\n        Text(\"Capture Photo\")\n    }\n}\n</code></pre>"},{"location":"getting-started/quick-start/#complete-example","title":"Complete Example","text":"<pre><code>@Composable\nfun SimpleCameraApp() {\n    val cameraState = rememberCameraKState()\n    var capturedImage by remember { mutableStateOf&lt;Uri?&gt;(null) }\n\n    Column(modifier = Modifier.fillMaxSize()) {\n        // Camera Preview\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier\n                .weight(1f)\n                .fillMaxWidth()\n        )\n\n        // Capture Button\n        Button(\n            onClick = {\n                viewModelScope.launch {\n                    capturedImage = cameraState.controller.capturePhoto().uri\n                }\n            },\n            modifier = Modifier\n                .align(Alignment.CenterHorizontally)\n                .padding(16.dp)\n        ) {\n            Text(\"\ud83d\udcf8 Capture\")\n        }\n    }\n}\n</code></pre>"},{"location":"getting-started/quick-start/#platform-specific-notes","title":"Platform-Specific Notes","text":""},{"location":"getting-started/quick-start/#android","title":"Android","text":"<ul> <li>Requires <code>android.permission.CAMERA</code> permission</li> <li>Runtime permission check automatically handled</li> <li>Compatible with CameraX 1.3+</li> </ul>"},{"location":"getting-started/quick-start/#ios","title":"iOS","text":"<ul> <li>Requires <code>NSCameraUsageDescription</code> in Info.plist</li> <li>Uses AVFoundation framework</li> <li>Supports iOS 14+</li> </ul>"},{"location":"getting-started/quick-start/#desktop","title":"Desktop","text":"<ul> <li>Works on Windows, macOS, Linux</li> <li>Requires webcam/USB camera</li> <li>Uses JavaCV backend</li> </ul>"},{"location":"getting-started/quick-start/#common-tasks","title":"Common Tasks","text":""},{"location":"getting-started/quick-start/#request-permissions","title":"Request Permissions","text":"<pre><code>// Android (handled automatically with Compose permissions library)\nLaunchedEffect(Unit) {\n    requestPermission(android.Manifest.permission.CAMERA)\n}\n</code></pre>"},{"location":"getting-started/quick-start/#switch-between-cameras","title":"Switch Between Cameras","text":"<pre><code>// Switch to front camera\ncontroller.setCameraSelector(CameraSelector.FRONT)\n\n// Switch to back camera\ncontroller.setCameraSelector(CameraSelector.BACK)\n</code></pre>"},{"location":"getting-started/quick-start/#record-video","title":"Record Video","text":"<pre><code>// Start recording\ncontroller.startVideoRecording()\n\n// Stop recording\nval videoFile = controller.stopVideoRecording()\n</code></pre>"},{"location":"getting-started/quick-start/#adjust-camera-settings","title":"Adjust Camera Settings","text":"<pre><code>controller.apply {\n    setExposure(compensationValue = 0.5f)\n    setZoom(zoomRatio = 2.0f)\n    setFlash(CameraFlash.AUTO)\n}\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide</li> <li>Core Concepts</li> <li>API Reference</li> <li>Examples</li> </ul>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":"<p>Camera not initializing? - Check permission declarations - Ensure camera device is available - See Troubleshooting Guide</p> <p>Preview not showing? - Verify <code>CameraPreviewComposable</code> is properly sized - Check camera permissions are granted - Enable debug logging in configuration</p> <p>Capture not working? - Ensure storage permissions are granted - Check disk space availability - Verify camera controller is initialized</p>"},{"location":"guide/advanced/","title":"Advanced Usage","text":"<p>Advanced techniques and patterns for CameraK.</p>"},{"location":"guide/advanced/#custom-camera-effects","title":"Custom Camera Effects","text":"<p>Create custom photo effects:</p> <pre><code>sealed class CustomEffect {\n    data class ColorFilter(val hue: Float) : CustomEffect()\n    data class Blur(val radius: Float) : CustomEffect()\n    data class Sepia(val intensity: Float) : CustomEffect()\n}\n\nfun applyEffect(photo: Photo, effect: CustomEffect): Photo {\n    return when (effect) {\n        is CustomEffect.ColorFilter -&gt; photo.applyColorFilter(effect.hue)\n        is CustomEffect.Blur -&gt; photo.applyBlur(effect.radius)\n        is CustomEffect.Sepia -&gt; photo.applySepia(effect.intensity)\n    }\n}\n</code></pre>"},{"location":"guide/advanced/#processing-pipeline","title":"Processing Pipeline","text":"<p>Chain multiple operations:</p> <pre><code>val processedPhoto = controller.capturePhoto()\n    .rotate(90)\n    .crop(x = 0, y = 0, width = 1000, height = 1000)\n    .resize(800, 800)\n    .compress(0.85f)\n    .applyFilter(PhotoFilter.SEPIA)\n</code></pre>"},{"location":"guide/advanced/#memory-management","title":"Memory Management","text":"<p>Handle large images efficiently:</p> <pre><code>// Process in chunks\nflow {\n    for (i in 0 until totalPhotos) {\n        val photo = capturePhoto()\n        emit(photo)\n        // Optional: clear cache\n        System.gc()\n    }\n}.collect { photo -&gt;\n    processPhoto(photo)\n}\n</code></pre>"},{"location":"guide/advanced/#platform-specific-features","title":"Platform-Specific Features","text":""},{"location":"guide/advanced/#android-camerax-extensions","title":"Android: CameraX Extensions","text":"<pre><code>controller.enableExtension(\n    ExtensionMode.BEAUTY\n)\n</code></pre>"},{"location":"guide/advanced/#ios-metal-rendering","title":"iOS: Metal Rendering","text":"<pre><code>controller.enableMetalRendering(\n    pixelFormat = MTLPixelFormat.RGBA8Unorm\n)\n</code></pre>"},{"location":"guide/advanced/#next-steps","title":"Next Steps","text":"<ul> <li>Troubleshooting</li> <li>API Reference</li> </ul>"},{"location":"guide/camera-capture/","title":"Camera Capture","text":"<p>Capture photos and videos with CameraK.</p>"},{"location":"guide/camera-capture/#photo-capture","title":"Photo Capture","text":""},{"location":"guide/camera-capture/#basic-photo-capture","title":"Basic Photo Capture","text":"<pre><code>@Composable\nfun CapturePhotoScreen() {\n    val cameraState = rememberCameraKState()\n    var capturedPhoto by remember { mutableStateOf&lt;Photo?&gt;(null) }\n\n    Column(modifier = Modifier.fillMaxSize()) {\n        // Preview\n        CameraPreviewComposable(\n            controller = cameraState.controller,\n            modifier = Modifier.weight(1f)\n        )\n\n        // Capture button\n        Button(\n            onClick = {\n                viewModelScope.launch {\n                    try {\n                        capturedPhoto = cameraState.controller.capturePhoto()\n                        println(\"Photo saved: ${capturedPhoto?.uri}\")\n                    } catch (e: CameraException) {\n                        println(\"Capture failed: ${e.message}\")\n                    }\n                }\n            },\n            modifier = Modifier.align(Alignment.CenterHorizontally)\n        ) {\n            Text(\"\ud83d\udcf8 Capture Photo\")\n        }\n    }\n}\n</code></pre>"},{"location":"guide/camera-capture/#photo-properties","title":"Photo Properties","text":"<pre><code>data class Photo(\n    val uri: Uri,               // File location\n    val width: Int,             // Image width\n    val height: Int,            // Image height\n    val rotation: Int,          // Rotation in degrees\n    val timestamp: Long,        // Capture timestamp\n    val flash: CameraFlash,     // Flash mode used\n    val exposure: Float,        // Exposure value\n    val zoom: Float             // Zoom ratio used\n)\n</code></pre>"},{"location":"guide/camera-capture/#capture-options","title":"Capture Options","text":"<pre><code>// With metadata\nval photo = controller.capturePhoto(\n    metadata = PhotoMetadata(\n        description = \"Birthday photo\",\n        location = GeoLocation(latitude = 40.7128, longitude = -74.0060)\n    )\n)\n\n// With effects\nval photo = controller.capturePhotoWithEffect(\n    effect = PhotoEffect.BEAUTY_FILTER\n)\n\n// RAW format (when supported)\nval photo = controller.capturePhoto(\n    format = ImageFormat.RAW\n)\n</code></pre>"},{"location":"guide/camera-capture/#video-recording","title":"Video Recording","text":""},{"location":"guide/camera-capture/#start-recording","title":"Start Recording","text":"<pre><code>@Composable\nfun VideoRecordingScreen() {\n    val cameraState = rememberCameraKState()\n    var isRecording by remember { mutableStateOf(false) }\n    var recordedVideo by remember { mutableStateOf&lt;Video?&gt;(null) }\n\n    Column {\n        // Preview\n        CameraPreviewComposable(cameraState.controller)\n\n        // Record button\n        Button(\n            onClick = {\n                if (!isRecording) {\n                    cameraState.controller.startVideoRecording()\n                    isRecording = true\n                } else {\n                    viewModelScope.launch {\n                        recordedVideo = cameraState.controller.stopVideoRecording()\n                        isRecording = false\n                        println(\"Video saved: ${recordedVideo?.uri}\")\n                    }\n                }\n            }\n        ) {\n            Text(if (isRecording) \"\u23f9 Stop\" else \"\ud83c\udfa5 Record\")\n        }\n    }\n}\n</code></pre>"},{"location":"guide/camera-capture/#video-properties","title":"Video Properties","text":"<pre><code>data class Video(\n    val uri: Uri,               // File location\n    val duration: Long,         // Duration in milliseconds\n    val width: Int,             // Video width\n    val height: Int,            // Video height\n    val fps: Int,               // Frames per second\n    val bitrate: Int,           // Bitrate in bps\n    val size: Long,             // File size in bytes\n    val codec: VideoCodec,      // Video codec used\n    val timestamp: Long         // Recording timestamp\n)\n</code></pre>"},{"location":"guide/camera-capture/#video-configuration","title":"Video Configuration","text":"<pre><code>val controller = CameraController.Builder()\n    .setVideoResolution(1920, 1080)\n    .setVideoFrameRate(30)\n    .setVideoBitrate(8_000_000)  // 8 Mbps\n    .setAudioEnabled(true)\n    .setAudioBitrate(128_000)     // 128 kbps\n    .build()\n</code></pre>"},{"location":"guide/camera-capture/#burst-capture","title":"Burst Capture","text":"<p>Capture multiple photos rapidly:</p> <pre><code>// Capture 10 photos in rapid succession\nval photos = controller.captureBurst(\n    count = 10,\n    interval = 100  // 100ms between shots\n)\n</code></pre>"},{"location":"guide/camera-capture/#time-lapse","title":"Time-Lapse","text":"<p>Create time-lapse sequences:</p> <pre><code>controller.startTimeLapse(\n    interval = 1000,            // 1 second between frames\n    duration = 3600000,         // 1 hour total\n    outputResolution = (1920 to 1080),\n    onProgress = { progress -&gt;\n        println(\"${progress}% complete\")\n    }\n)\n</code></pre>"},{"location":"guide/camera-capture/#slow-motion-video","title":"Slow Motion Video","text":"<p>Record at high frame rate:</p> <pre><code>val controller = CameraController.Builder()\n    .setVideoFrameRate(120)     // 120 FPS for 4x slow motion\n    .setVideoResolution(1920, 1080)\n    .build()\n\n// Record high-speed video\ncontroller.startVideoRecording()\n</code></pre>"},{"location":"guide/camera-capture/#effects-filters","title":"Effects &amp; Filters","text":"<p>Apply effects to captures:</p> <pre><code>// Beauty mode\nval beautyPhoto = controller.capturePhotoWithEffect(\n    effect = PhotoEffect.BEAUTY_FILTER\n)\n\n// B&amp;W filter\nval bwPhoto = controller.capturePhotoWithEffect(\n    effect = PhotoEffect.BLACK_AND_WHITE\n)\n\n// HDR mode\nval hdrPhoto = controller.capturePhotoWithEffect(\n    effect = PhotoEffect.HDR\n)\n</code></pre>"},{"location":"guide/camera-capture/#focus-metering","title":"Focus &amp; Metering","text":"<p>Control focus and exposure metering:</p> <pre><code>// Tap to focus\ncontroller.tapToFocus(\n    x = 0.5f,   // Center X (0.0-1.0)\n    y = 0.5f    // Center Y (0.0-1.0)\n)\n\n// Manual focus\ncontroller.setFocusDistance(distance = 0.5f)\n\n// Metering area\ncontroller.setMeteringArea(\n    x = 0.5f,\n    y = 0.5f,\n    width = 0.2f,\n    height = 0.2f\n)\n</code></pre>"},{"location":"guide/camera-capture/#image-processing","title":"Image Processing","text":"<p>Process captured images:</p> <pre><code>// Rotate image\nval rotatedPhoto = photo.rotate(degrees = 90)\n\n// Crop image\nval croppedPhoto = photo.crop(\n    x = 0,\n    y = 0,\n    width = 1000,\n    height = 1000\n)\n\n// Resize image\nval resizedPhoto = photo.resize(\n    width = 800,\n    height = 600\n)\n\n// Compress for sharing\nval compressedPhoto = photo.compress(quality = 0.85f)\n</code></pre>"},{"location":"guide/camera-capture/#saving-captures","title":"Saving Captures","text":""},{"location":"guide/camera-capture/#save-to-gallery","title":"Save to Gallery","text":"<pre><code>viewModelScope.launch {\n    val photo = controller.capturePhoto()\n    photo.saveToGallery(context, album = \"CameraK\")\n}\n</code></pre>"},{"location":"guide/camera-capture/#save-to-custom-location","title":"Save to Custom Location","text":"<pre><code>val photo = controller.capturePhoto()\nval file = File(context.getExternalFilesDir(null), \"photo_${System.currentTimeMillis()}.jpg\")\nphoto.saveTo(file)\n</code></pre>"},{"location":"guide/camera-capture/#share-directly","title":"Share Directly","text":"<pre><code>val photo = controller.capturePhoto()\nval shareIntent = Intent.createChooser(\n    Intent().apply {\n        action = Intent.ACTION_SEND\n        putExtra(Intent.EXTRA_STREAM, photo.uri)\n        type = \"image/jpeg\"\n    },\n    \"Share Photo\"\n)\nstartActivity(shareIntent)\n</code></pre>"},{"location":"guide/camera-capture/#error-handling","title":"Error Handling","text":"<pre><code>try {\n    val photo = controller.capturePhoto()\n} catch (e: CameraException) {\n    when (e) {\n        is CameraNotAvailableException -&gt; {\n            println(\"Camera device not available\")\n        }\n        is PermissionDeniedException -&gt; {\n            println(\"Camera permission denied\")\n        }\n        is CameraTimeoutException -&gt; {\n            println(\"Capture timeout - retry\")\n        }\n        else -&gt; {\n            println(\"Unexpected error: ${e.message}\")\n        }\n    }\n}\n</code></pre>"},{"location":"guide/camera-capture/#performance-tips","title":"Performance Tips","text":"<ol> <li>Resolution \u2013 Use 1920x1080 for balanced quality/performance</li> <li>Framerate \u2013 30 FPS is sufficient for most videos</li> <li>Format \u2013 JPEG is faster than PNG</li> <li>Burst \u2013 Limit to 10-20 photos to avoid memory issues</li> <li>Effects \u2013 Apply effects judiciously on lower-end devices</li> </ol>"},{"location":"guide/camera-capture/#best-practices","title":"Best Practices","text":"<ol> <li>\u2705 Always wrap capture in try-catch</li> <li>\u2705 Use <code>viewModelScope.launch</code> for coroutines</li> <li>\u2705 Show progress feedback for long captures</li> <li>\u2705 Handle out-of-storage gracefully</li> <li>\u2705 Release resources after captures</li> <li>\u2705 Test on real devices for actual performance</li> </ol>"},{"location":"guide/camera-capture/#next-steps","title":"Next Steps","text":"<ul> <li>Permission Handling</li> <li>Advanced Usage</li> <li>Examples</li> </ul>"},{"location":"guide/core-concepts/","title":"Core Concepts","text":"<p>Understand the fundamental concepts behind CameraK.</p>"},{"location":"guide/core-concepts/#architecture-overview","title":"Architecture Overview","text":"<p>CameraK is built on a layered architecture:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Compose UI Layer              \u2502\n\u2502   (Camera Preview, Controls)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   CameraController (API)        \u2502\n\u2502   High-level abstraction        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Platform Implementation       \u2502\n\u2502   (Android/iOS/Desktop)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Native Camera Framework       \u2502\n\u2502   (CameraX/AVFoundation/JavaCV) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guide/core-concepts/#key-components","title":"Key Components","text":""},{"location":"guide/core-concepts/#cameracontroller","title":"CameraController","text":"<p>The main API for controlling camera operations:</p> <pre><code>interface CameraController {\n    // Preview\n    fun startPreview()\n    fun stopPreview()\n\n    // Capture\n    suspend fun capturePhoto(): Photo\n    suspend fun capturePhotoWithEffect(effect: PhotoEffect): Photo\n\n    // Recording\n    fun startVideoRecording()\n    fun stopVideoRecording(): Video\n\n    // Configuration\n    fun setCameraSelector(selector: CameraSelector)\n    fun setFlash(flash: CameraFlash)\n    fun setZoom(zoomRatio: Float)\n    fun setExposure(compensationValue: Float)\n}\n</code></pre>"},{"location":"guide/core-concepts/#camera-state","title":"Camera State","text":"<p>Manages camera lifecycle and state:</p> <pre><code>@Composable\nfun rememberCameraKState(): CameraKState {\n    return remember {\n        CameraKState()\n    }\n}\n</code></pre>"},{"location":"guide/core-concepts/#camera-preview","title":"Camera Preview","text":"<p>Displays camera feed in Compose:</p> <pre><code>@Composable\nfun CameraPreviewComposable(\n    controller: CameraController,\n    modifier: Modifier = Modifier\n)\n</code></pre>"},{"location":"guide/core-concepts/#camera-lifecycle","title":"Camera Lifecycle","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Not Started   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2502 startPreview()\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Previewing    \u2502\u25c4\u2500\u2500\u2500\u2500\u2510\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n         \u2502              \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2502         \u2502\n    \u25bc         \u2502 stopPreview()\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502Capturing\u2502\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n     \u2502\n     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Recording     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2502 stopVideoRecording()\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Stopped    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guide/core-concepts/#permission-model","title":"Permission Model","text":"<p>CameraK automatically handles permissions:</p> <pre><code>@Composable\nfun CameraScreen() {\n    // Permissions are requested automatically\n    val cameraState = rememberCameraKState()\n\n    // Check permission status\n    when (cameraState.permissionState) {\n        PermissionState.GRANTED -&gt; {\n            // Camera ready\n            CameraPreviewComposable(cameraState.controller)\n        }\n        PermissionState.DENIED -&gt; {\n            Text(\"Camera permission required\")\n        }\n        PermissionState.PENDING -&gt; {\n            CircularProgressIndicator()\n        }\n    }\n}\n</code></pre>"},{"location":"guide/core-concepts/#error-handling","title":"Error Handling","text":"<p>CameraK uses sealed result types for errors:</p> <pre><code>sealed class CameraResult&lt;out T&gt; {\n    data class Success&lt;T&gt;(val data: T) : CameraResult&lt;T&gt;()\n    data class Error&lt;T&gt;(\n        val exception: CameraException,\n        val isRetryable: Boolean\n    ) : CameraResult&lt;T&gt;()\n    class Loading&lt;T&gt; : CameraResult&lt;T&gt;()\n}\n</code></pre> <p>Usage:</p> <pre><code>viewModelScope.launch {\n    when (val result = controller.capturePhoto()) {\n        is CameraResult.Success -&gt; {\n            // Handle photo\n        }\n        is CameraResult.Error -&gt; {\n            if (result.isRetryable) {\n                // Retry logic\n            }\n        }\n        is CameraResult.Loading -&gt; {\n            // Show loading\n        }\n    }\n}\n</code></pre>"},{"location":"guide/core-concepts/#threading-model","title":"Threading Model","text":"<p>CameraK uses Kotlin coroutines:</p> <pre><code>// All suspension functions are main-safe\nviewModelScope.launch { // Main thread\n    val photo = controller.capturePhoto() // Suspends, runs on proper thread\n    updateUI(photo) // Back on main thread\n}\n</code></pre>"},{"location":"guide/core-concepts/#resource-management","title":"Resource Management","text":"<p>Proper cleanup is important:</p> <pre><code>@Composable\nfun CameraScreen() {\n    val cameraState = rememberCameraKState()\n\n    // Automatically cleans up on disposal\n    DisposableEffect(Unit) {\n        onDispose {\n            cameraState.controller.stopPreview()\n            cameraState.controller.release()\n        }\n    }\n}\n</code></pre>"},{"location":"guide/core-concepts/#platform-differences","title":"Platform Differences","text":"Feature Android iOS Desktop Camera API CameraX AVFoundation OpenCV/JavaCV Threading Camera Executor Dispatch Queue Thread Pool Permissions Runtime Manifest Info.plist System Dialog Preview TextureView CALayer Canvas"},{"location":"guide/core-concepts/#key-enums","title":"Key Enums","text":""},{"location":"guide/core-concepts/#cameraselector","title":"CameraSelector","text":"<pre><code>enum class CameraSelector {\n    BACK,   // Main/rear camera\n    FRONT   // Front/selfie camera\n}\n</code></pre>"},{"location":"guide/core-concepts/#cameraflash","title":"CameraFlash","text":"<pre><code>enum class CameraFlash {\n    ON,     // Always on\n    OFF,    // Always off\n    AUTO    // Automatic based on lighting\n}\n</code></pre>"},{"location":"guide/core-concepts/#imageformat","title":"ImageFormat","text":"<pre><code>enum class ImageFormat {\n    JPEG,   // JPEG format (compressed)\n    PNG,    // PNG format (lossless)\n    WEBP    // WebP format (efficient)\n}\n</code></pre>"},{"location":"guide/core-concepts/#best-practices","title":"Best Practices","text":"<ol> <li>Initialize Early \u2013 Set up CameraController before showing preview</li> <li>Use State Management \u2013 Leverage Compose state for reactive updates</li> <li>Handle Permissions \u2013 Always check permission status</li> <li>Manage Resources \u2013 Properly release camera in <code>DisposableEffect</code></li> <li>Error Handling \u2013 Always handle <code>CameraResult.Error</code> cases</li> <li>Performance \u2013 Use appropriate resolutions for target device</li> </ol>"},{"location":"guide/core-concepts/#next-steps","title":"Next Steps","text":"<ul> <li>Camera Capture Guide</li> <li>Permission Handling</li> <li>API Reference</li> </ul>"},{"location":"guide/permissions/","title":"Permission Handling","text":"<p>Managing camera permissions across platforms.</p>"},{"location":"guide/permissions/#permission-overview","title":"Permission Overview","text":"<p>CameraK requires permissions to access device cameras:</p> Permission Purpose Platforms <code>CAMERA</code> Access camera device Android, iOS, Desktop <code>RECORD_AUDIO</code> Record audio with video Android, iOS, Desktop <code>WRITE_EXTERNAL_STORAGE</code> Save photos/videos Android <code>READ_EXTERNAL_STORAGE</code> Read gallery photos Android"},{"location":"guide/permissions/#android-permissions","title":"Android Permissions","text":""},{"location":"guide/permissions/#manifest-declaration","title":"Manifest Declaration","text":"<p>Add to <code>AndroidManifest.xml</code>:</p> <pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>"},{"location":"guide/permissions/#runtime-permission-requests","title":"Runtime Permission Requests","text":"<p>CameraK automatically handles runtime permissions with Compose:</p> <pre><code>@Composable\nfun CameraPermissionScreen() {\n    val cameraPermissionState = rememberPermissionState(\n        android.Manifest.permission.CAMERA\n    )\n\n    when {\n        cameraPermissionState.status.isGranted -&gt; {\n            // Permission granted\n            CameraScreen()\n        }\n        cameraPermissionState.status.shouldShowRationale -&gt; {\n            // Show explanation\n            Column {\n                Text(\"Camera permission is required for this feature\")\n                Button(onClick = { cameraPermissionState.launchPermissionRequest() }) {\n                    Text(\"Grant Permission\")\n                }\n            }\n        }\n        else -&gt; {\n            // Permission not requested yet\n            LaunchedEffect(Unit) {\n                cameraPermissionState.launchPermissionRequest()\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#multiple-permissions","title":"Multiple Permissions","text":"<pre><code>@Composable\nfun MultiplePermissionsScreen() {\n    val multiplePermissionsState = rememberMultiplePermissionsState(\n        permissions = listOf(\n            android.Manifest.permission.CAMERA,\n            android.Manifest.permission.RECORD_AUDIO,\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE\n        )\n    )\n\n    when {\n        multiplePermissionsState.allPermissionsGranted -&gt; {\n            CameraScreen()\n        }\n        multiplePermissionsState.shouldShowRationale -&gt; {\n            Text(\"Camera and audio permissions are required\")\n            Button(onClick = { multiplePermissionsState.launchMultiplePermissionRequest() }) {\n                Text(\"Grant All Permissions\")\n            }\n        }\n        else -&gt; {\n            LaunchedEffect(Unit) {\n                multiplePermissionsState.launchMultiplePermissionRequest()\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#ios-permissions","title":"iOS Permissions","text":""},{"location":"guide/permissions/#infoplist-configuration","title":"Info.plist Configuration","text":"<p>Add to your <code>Info.plist</code>:</p> <pre><code>&lt;dict&gt;\n    &lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\n    &lt;string&gt;We need camera access to capture photos and videos for your app&lt;/string&gt;\n\n    &lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;\n    &lt;string&gt;We need microphone access to record audio with videos&lt;/string&gt;\n\n    &lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n    &lt;string&gt;We need access to your photo library to save photos&lt;/string&gt;\n\n    &lt;key&gt;NSPhotoLibraryAddUsageDescription&lt;/key&gt;\n    &lt;string&gt;We need access to save photos to your library&lt;/string&gt;\n&lt;/dict&gt;\n</code></pre>"},{"location":"guide/permissions/#runtime-permission-handling","title":"Runtime Permission Handling","text":"<pre><code>// iOS permissions are requested automatically when needed\n@Composable\nfun IosCamera() {\n    val cameraState = rememberCameraKState()\n\n    when (cameraState.permissionState) {\n        PermissionState.GRANTED -&gt; {\n            CameraPreviewComposable(cameraState.controller)\n        }\n        PermissionState.DENIED -&gt; {\n            Text(\"Camera permission denied. Please enable in Settings.\")\n        }\n        PermissionState.PENDING -&gt; {\n            CircularProgressIndicator()\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#desktop-permissions","title":"Desktop Permissions","text":"<p>Desktop platforms typically don't require runtime permissions but may show system dialogs:</p> <pre><code>@Composable\nfun DesktopCamera() {\n    val cameraState = rememberCameraKState()\n\n    LaunchedEffect(Unit) {\n        try {\n            cameraState.controller.startPreview()\n        } catch (e: PermissionDeniedException) {\n            println(\"User denied camera access in system dialog\")\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#permission-state-management","title":"Permission State Management","text":""},{"location":"guide/permissions/#check-permission-status","title":"Check Permission Status","text":"<pre><code>@Composable\nfun PermissionAwareCamera() {\n    val permissionState = rememberPermissionState(android.Manifest.permission.CAMERA)\n    val cameraState = rememberCameraKState()\n\n    Column {\n        when {\n            permissionState.status.isGranted -&gt; {\n                CameraPreviewComposable(cameraState.controller)\n            }\n            permissionState.status.shouldShowRationale -&gt; {\n                RationalDialog(\n                    onConfirm = { permissionState.launchPermissionRequest() }\n                )\n            }\n            else -&gt; {\n                EmptyState(\n                    message = \"Camera permission required\",\n                    action = \"Request Permission\",\n                    onClick = { permissionState.launchPermissionRequest() }\n                )\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#store-permission-preferences","title":"Store Permission Preferences","text":"<pre><code>@Composable\nfun RememberPermissionPreference() {\n    var hasAskedForPermission by rememberSaveable { mutableStateOf(false) }\n    val permissionState = rememberPermissionState(android.Manifest.permission.CAMERA)\n\n    if (!hasAskedForPermission &amp;&amp; !permissionState.status.isGranted) {\n        LaunchedEffect(Unit) {\n            permissionState.launchPermissionRequest()\n            hasAskedForPermission = true\n        }\n    }\n}\n</code></pre>"},{"location":"guide/permissions/#scoped-storage-android-11","title":"Scoped Storage (Android 11+)","text":"<p>Modern Android requires scoped storage:</p> <pre><code>// Save to app-specific directory (no permission needed)\nval file = File(context.getExternalFilesDir(null), \"photo.jpg\")\n\n// Save to Pictures with MediaStore (for Android 11+)\nval contentValues = ContentValues().apply {\n    put(MediaStore.MediaColumns.DISPLAY_NAME, \"photo.jpg\")\n    put(MediaStore.MediaColumns.MIME_TYPE, \"image/jpeg\")\n}\n\nval uri = context.contentResolver.insert(\n    MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n    contentValues\n)\n</code></pre>"},{"location":"guide/permissions/#error-handling","title":"Error Handling","text":"<pre><code>try {\n    val photo = controller.capturePhoto()\n} catch (e: PermissionDeniedException) {\n    // Handle permission denial\n    showPermissionDenialDialog()\n} catch (e: CameraNotAvailableException) {\n    // Handle camera not available\n    showCameraNotAvailableDialog()\n} catch (e: Exception) {\n    // Handle other errors\n    showErrorDialog(e.message ?: \"Unknown error\")\n}\n</code></pre>"},{"location":"guide/permissions/#best-practices","title":"Best Practices","text":"<ol> <li>Request Early \u2013 Request permissions when first opening camera</li> <li>Explain Rationale \u2013 Show why permissions are needed</li> <li>Graceful Fallback \u2013 Provide UI when permissions denied</li> <li>Don't Over-request \u2013 Only request needed permissions</li> <li>Honor User Choice \u2013 Respect permission denials</li> <li>Test on Device \u2013 Simulator may not reflect actual behavior</li> </ol>"},{"location":"guide/permissions/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/permissions/#permission-stuck-in-denied-state","title":"Permission Stuck in Denied State","text":"<p>Clear app data and reinstall:</p> <pre><code>adb shell pm clear com.yourapp.package\nadb install app-debug.apk\n</code></pre>"},{"location":"guide/permissions/#camera-still-not-working","title":"Camera Still Not Working","text":"<p>Check logcat:</p> <pre><code>adb logcat | grep -i camera\nadb logcat | grep -i permission\n</code></pre>"},{"location":"guide/permissions/#ios-permission-dialog-not-showing","title":"iOS Permission Dialog Not Showing","text":"<p>Ensure Info.plist keys are correct and app has been reinstalled after changes.</p>"},{"location":"guide/permissions/#next-steps","title":"Next Steps","text":"<ul> <li>Camera Capture</li> <li>Advanced Usage</li> <li>Troubleshooting</li> </ul>"}]}